
/* CRIANDO AS TABELAS */
CREATE TABLE MARCAS (
	COD_MARCA 	NUMBER(3) 		NOT NULL, /* <PK>*/ 
	NOM_MARCA	VARCHAR(100)	NOT NULL	
);

CREATE TABLE CARROS (
	COD_CARRO 	NUMBER(6)		NOT NULL, /* <PK>*/
	NOM_CARRO	VARCHAR(100)	NOT NULL,
	COD_MARCA	NUMBER(3)		NOT NULL  /* <FK>*/
);

CREATE TABLE MODELOS (
	COD_MODELO	NUMBER(2)		NOT NULL, /* <PK>*/
	DSC_MODELO 	VARCHAR(50)		NOT NULL
);
CREATE TABLE CORES (
	COD_COR		NUMBER(6)		NOT NULL, /* <PK>*/
	NOM_COR		VARCHAR(50)		NOT NULL
);
CREATE TABLE TIPOS (
	COD_TIPO	NUMBER(3)		NOT NULL, /* <PK>*/
	DSC_TIPO	VARCHAR(50)		NOT NULL
);
CREATE TABLE OPCIONAIS (
	COD_OPCIONAL	NUMBER(3)	NOT NULL, /* <PK>*/
	DSC_OPCIONAL	VARCHAR(50)	NOT NULL
);
CREATE TABLE VEICULOS_OPCIONAIS (
	COD_PLACA		VARCHAR(8)	NOT NULL, /* <PK/FK>*/
	COD_OPCIONAL 	NUMBER(3)	NOT NULL  /* <PK/FK>*/
);
CREATE TABLE TRANSMISSOES (
	COD_TRANSMISSAO	VARCHAR(1)	NOT NULL, /* <PK>*/
	DSC_TRANSMISSAO	VARCHAR(50)	NOT NULL
);
CREATE TABLE MOTORES (
	COD_MOTOR 		NUMBER(3)	NOT NULL, /* <PK>*/
	DSC_MOTOR		VARCHAR(6)	NOT NULL
);
CREATE TABLE COMBUSTIVEIS (
	COD_COMBUSTIVEL	NUMBER(3)	NOT NULL, /* <PK>*/
	DSC_COMBUSTIVEL VARCHAR(50) NOT NULL,
	OBS_COMBUSTIVEL	VARCHAR(100)	NULL
);
CREATE TABLE LOJAS (
	COD_LOJA 		NUMBER(3)	NOT NULL, /* <PK> CUIDADOOOOOOOOO*/ 
	NOM_LOJA		VARCHAR(100)NOT NULL,
	END_LOJA 		VARCHAR(100)NOT NULL,
	NOM_BAIRRO_LOJA	VARCHAR(50) NOT	NULL
);
CREATE TABLE LOJAS_TELEFONES (
	COD_LOJA		NUMBER(3)	NOT NULL,	/* <PK/FK>CUIDADOOOOOOOOO*/
	COD_TELEFONE 	NUMBER(3)	NOT NULL,	/* <PK>*/
	NUM_TELEFONE	NUMBER(8)	NOT NULL,
	TIPO_TELEFONE	VARCHAR(1)		NULL	
);
/* TABELA VEICULOS CNT */ 
CREATE TABLE VEICULOS (
	COD_PLACA		VARCHAR(8)	NOT NULL,   /* <PK>*/
	COD_CARRO		NUMBER(6)	NOT NULL,	/* <FK>*/
	COD_MODELO		NUMBER(3)	NOT NULL,	/* <FK>*/
	COD_COR			NUMBER(3)	NOT NULL,	/* <FK>*/
	COD_TIPO 		NUMBER(3)	NOT	NULL,	/* <FK>*/
	COD_TRANSMISSAO	VARCHAR(1)	NOT NULL,	/* <FK>*/
	COD_MOTOR		NUMBER(3)	NOT NULL,	/* <FK>*/
	COD_COMBUSTIVEL	NUMBER(3)	NOT NULL,	/* <FK>*/
	COD_LOJA 		NUMBER(3)	NOT NULL,	/* <FK>*/
	QNT_PORTAS		NUMBER(1)   NOT NULL,
	ANO_FABRICACAO  NUMBER(4)	NOT NULL,
	ANO_MODELO		NUMBER(4)	NOT NULL,
	VAL_VEICULO		NUMBER(11,2)NOT NULL
);

/* COLOCANDO AS <PKS> */

ALTER TABLE 	MARCAS			ADD CONSTRAINTS		MARC_COD_MARC_PK	PRIMARY KEY 	(COD_MARCA);
ALTER TABLE		CARROS			ADD CONSTRAINTS		CAR_COD_CARRO_PK   	PRIMARY	KEY		(COD_CARRO);
ALTER TABLE		MODELOS			ADD CONSTRAINTS		MOD_COD_MODL_PK		PRIMARY	KEY		(COD_MODELO);
ALTER TABLE		CORES			ADD CONSTRAINTS		COR_COD_COR_PK		PRIMARY	KEY		(COD_COR);
ALTER TABLE		TIPOS			ADD CONSTRAINTS		TIP_COD_TIPOS_PK	PRIMARY	KEY		(COD_TIPO);
ALTER TABLE		OPCIONAIS		ADD CONSTRAINTS		OPC_CPD_OPCNL_PK	PRIMARY	KEY		(COD_OPCIONAL);
ALTER TABLE 	TRANSMISSOES	ADD CONSTRAINTS		TRNS_COD_TRANS_PK 	PRIMARY KEY		(COD_TRANSMISSAO);
ALTER TABLE 	MOTORES			ADD CONSTRAINTS		MOT_COD_MOTOR_PK	PRIMARY KEY		(COD_MOTOR);
ALTER TABLE 	COMBUSTIVEIS	ADD CONSTRAINTS		COM_COD_COMBUS_PK	PRIMARY KEY		(COD_COMBUSTIVEL);
ALTER TABLE 	LOJAS_TELEFONES	ADD CONSTRAINTS		LOJ_TEL_COD_TEL_PK 	PRIMARY KEY		(COD_TELEFONE);
ALTER TABLE 	VEICULOS		ADD CONSTRAINTS		VEI_COD_PLACA_PK   	PRIMARY KEY		(COD_PLACA);

/*COMPOSTAS*/
ALTER TABLE 	VEICULOS_OPCIONAIS	ADD CONSTRAINTS	VEI_OPC_PK			PRIMARY KEY		(COD_PLACA,COD_OPCIONAL); 	
ALTER TABLE 	LOJAS_TELEFONES		ADD CONSTRAINTS	LJ_TEL_PK			PRIMARY KEY		(COD_LOJA,COD_TELEFONE); 	


/* COLOCANDO <FKS> */
ALTER TABLE 	CARROS			ADD CONSTRAINTS		CAR_COD_MARC_FK		FOREIGN KEY		(COD_MARCA);
ALTER TABLE 	VEICULOS		ADD CONSTRAINTS		VEI_COD_CARRO_FK	FOREIGN	KEY		(COD_CARRO);
ALTER TABLE 	VEICULOS 		ADD CONSTRAINTS		VEI_COD_MODELO_FK	FOREIGN	KEY		(COD_MODELO);
ALTER TABLE 	VEICULOS 		ADD CONSTRAINTS		VEI_COD_COR_FK		FOREIGN	KEY		(COD_COR);
ALTER TABLE 	VEICULOS 		ADD CONSTRAINTS		VEI_COD_TIPO_FK		FOREIGN	KEY		(COD_TIPO);
ALTER TABLE		VEICULOS		ADD	CONSTRAINTS		VEI_COD_TRAN_FK		FOREIGN KEY 	(COD_TRANSMISSAO);
ALTER TABLE 	VEICULOS 		ADD CONSTRAINTS		VEI_COD_MOT_FK		FOREIGN KEY		(COD_MOTOR);
ALTER TABLE 	VEICULOS 		ADD CONSTRAINTS		VEI_COD_COMB_FK		FOREIGN KEY 	(COD_COMBUSTIVEL);
ALTER TABLE 	VEICULOS		ADD CONSTRAINTS		VEI_COD_LOJA_FK		FOREIGN KEY 	(COD_LOJA);		


/* CHEKS */
ALTER TABLE 	TRANSMISSOES	ADD CONSTRAINTS		CK_COD_TRANS		CHECK			(COD_TRANSMISSAO IN ("A","M","a","m"));
ALTER TABLE 	VEICULOS 		ADD CONSTRAINTS 	CK_QNT_PORT			CHECK			(QNT_PORTAS IN (1,2,3,4,5));


/* UNIQUE */ 

ALTER TABLE 	VEICULOS		ADD CONSTRAINTS		UNQ_COD_PLACA 		UNIQUE		(COD_PLACA);


/* INSERTS */ 






	




